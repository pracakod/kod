:root {
  --bg0: #070a1e;
  --bg1: #0b0f2a;
  --fg: #eef2ff;
  --muted: #aab0c0;
  --accent: #00e5ff;
  --accent2: #f15bb5;
  --accent3: #8aff80;
  --panel: #0f1433cc;
  --panelBorder: #1b2a5acc;
}
* { box-sizing: border-box; }
html,body { height:100%; }
body { margin:0; background: radial-gradient(100% 100% at 50% 50%, var(--bg1), var(--bg0)); color:var(--fg); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; overflow:hidden; touch-action:none; }

#game { width:100vw; height:100vh; display:block; background: transparent; }

#start { position:fixed; inset:0; display:grid; place-items:center; z-index:10; background:linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.6)); padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); }
#start .box { width:min(94vw, 980px); background:var(--panel); border:1px solid var(--panelBorder); border-radius:16px; padding:18px; backdrop-filter: blur(8px); box-shadow:0 10px 40px rgba(0,0,0,.45); }
#start h1 { margin:8px 0 16px; font-size:26px; letter-spacing:.5px; }
#start .row { display:flex; gap:18px; }
#start .col { flex:1; min-width: 260px; }
#start label { display:block; margin:10px 0 6px; font-size:14px; color:var(--muted); }
#start input { width:100%; padding:12px 14px; margin-top:6px; border:1px solid #2a3052; border-radius:10px; background:#0b0f25; color:var(--fg); outline:none; }
#start input:focus { border-color: var(--accent); }
#start button { padding:12px 16px; border-radius:12px; border:0; cursor:pointer; background:linear-gradient(135deg, var(--accent), #4af6ff); color:#001019; font-weight:800; letter-spacing:.3px; box-shadow:0 6px 22px rgba(0,229,255,.25); }
#start button.ghost { background:transparent; border:1px solid #33406d; color:var(--fg); box-shadow:none; }
#start #share { margin-top:10px; font-size:12px; color:var(--muted); word-break:break-all; }
#start #msg { margin-top:8px; color:#ff6b81; min-height:18px; font-size:13px; }
.hint { margin-top:12px; font-size:12px; color:#c6cbe0; }

#start .rooms { max-height: 260px; overflow:auto; border:1px solid #2a3052; border-radius:12px; padding:8px; }
.roomsHead { font-size:13px; color:var(--muted); margin-bottom:8px; }
.roomItem { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border-radius:10px; border:1px solid #2a3052; margin-bottom:8px; }
.roomItem button { padding:8px 12px; border-radius:10px; }

#hud { position:fixed; top:8px; left:8px; display:flex; gap:8px; z-index:5; padding-top: env(safe-area-inset-top); }
.badge { background:#0b0f25cc; border:1px solid #1d2750; color:var(--fg); padding:6px 10px; border-radius:10px; font-size:13px; box-shadow:0 4px 16px rgba(0,0,0,.25); }

#chat { position:fixed; right:8px; bottom:8px; width:min(40vw, 380px); max-width:90vw; z-index:5; background:#0b0f25cc; border:1px solid #1d2750; border-radius:14px; display:flex; flex-direction:column; max-height:46vh; backdrop-filter: blur(6px); }
#chat #chatLog { padding:8px; overflow:auto; flex:1; font-size:13px; }
.chatMsg { margin:4px 0; }
.chatRow { display:flex; gap:6px; padding:8px; border-top:1px solid #1d2750; }
#chat input { flex:1; border-radius:8px; border:1px solid #1d2750; background:#0a0e22; color:var(--fg); padding:8px; }

#controls { position:fixed; inset:auto 0 0 0; display:flex; justify-content:space-between; align-items:flex-end; gap:12px; padding:12px; z-index:5; pointer-events:none; padding-bottom: calc(12px + env(safe-area-inset-bottom)); }
#pad { display:flex; align-items:center; gap:10px; pointer-events:auto; }
#pad .vert { display:flex; flex-direction:column; gap:10px; }
#pad .dir {
  width:70px; height:70px; border-radius:16px; border:0; 
  background: radial-gradient(120% 120% at 30% 30%, #15204b, #0c1436);
  color:#d1d6e6; font-size:24px; font-weight:800; box-shadow: inset 0 -2px 0 rgba(0,0,0,.25), 0 6px 20px rgba(0,0,0,.25);
}

#skillBtns { display:flex; gap:12px; align-items:center; pointer-events:auto; }
#attackBtn, #s1Btn, #s2Btn {
  width:96px; height:96px; border-radius:50%; border:0; color:#001019; font-size:18px; font-weight:900;
  box-shadow: 0 12px 34px rgba(0,229,255,.25), inset 0 -6px 0 rgba(0,0,0,.25);
}
#attackBtn { background:linear-gradient(135deg, var(--accent2), #ff7ac3); color:white; box-shadow: 0 12px 34px rgba(241,91,181,.35), inset 0 -6px 0 rgba(0,0,0,.25); }
#s1Btn { background:linear-gradient(135deg, var(--accent), #4af6ff); }
#s2Btn { background:linear-gradient(135deg, #a08bff, #7d5af2); color:white; }

button.cooldown { opacity:.65; }
button.cooldown::after { content: attr(data-cd); position:absolute; transform:translate(-50%,-50%); }

@media (min-width: 900px) {
  #attackBtn, #s1Btn, #s2Btn { width: 104px; height: 104px; font-size: 20px; }
  #pad .dir { width:76px; height:76px; font-size:26px; }
}
/* Scoreboard */
.scoreboard {
  position: fixed;
  top: 10px;
  left: 10px;
  width: 280px;
  background: rgba(15, 20, 35, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 12px;
  backdrop-filter: blur(10px);
  z-index: 40;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  transition: opacity 0.3s ease, transform 0.3s ease;
  pointer-events: none; /* Klikanie przez scoreboard */
}

.scoreboard.hidden {
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
}

.scoreboard-header {
  font-size: 13px;
  font-weight: 700;
  color: #ffd700;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 8px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
}

.scoreboard-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.scoreboard-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.03);
  font-size: 12px;
}

.scoreboard-item.me {
  background: linear-gradient(90deg, rgba(78, 205, 196, 0.2), rgba(78, 205, 196, 0.05));
  border-left: 2px solid #4ecdc4;
}

.scoreboard-rank {
  font-weight: 700;
  color: #888;
  width: 16px;
  text-align: center;
}

.scoreboard-rank.top1 { color: #ffd700; }
.scoreboard-rank.top2 { color: #c0c0c0; }
.scoreboard-rank.top3 { color: #cd7f32; }

.scoreboard-name {
  flex: 1;
  font-weight: 600;
  color: #fff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.scoreboard-stats {
  text-align: right;
  color: #aaa;
  font-size: 11px;
}

.scoreboard-stat-row {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 4px;
}

.stat-icon {
  font-size: 10px;
  opacity: 0.8;
}

